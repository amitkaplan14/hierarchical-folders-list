{"version":3,"file":"index.esm.js","sources":["../src/utils/treeUtils.ts","../src/hooks/useVirtualization.ts","../src/hooks/useKeyboardNavigation.ts","../src/utils/iconUtils.ts","../src/components/FolderItem.tsx","../src/components/FolderList.tsx"],"sourcesContent":[null,null,null,null,null,null],"names":["flattenTree","data","depth","parentId","reduce","acc","item","isFolder","Boolean","children","length","flatItem","id","name","push","getVisibleItems","flattenedItems","expandedIds","visibleItems","isVisible","Set","undefined","has","add","getNextItemId","currentId","direction","currentIndex","findIndex","Math","min","max","useVirtualization","items","itemHeight","overscan","enabled","containerRef","useRef","visibleRange","setVisibleRange","useState","start","end","calculateVisibleRange","useCallback","current","scrollTop","clientHeight","startIndex","floor","endIndex","ceil","scrollToIndex","index","scrollItemIntoView","container","itemTop","itemBottom","viewportTop","viewportBottom","useEffect","handleScroll","addEventListener","removeEventListener","handleResize","window","slice","map","i","Object","assign","style","position","top","left","width","height","containerStyle","overflow","useKeyboardNavigation","expandOnEnter","collapseOnEscape","navigateWithArrows","selectedId","setSelectedId","toggleExpand","handleKeyDown","event","selectedItem","find","key","preventDefault","nextId","nextIndex","prevId","prevIndex","parentItem","parentIndex","resolveIcon","isExpanded","iconConfig","renderItemIcon","defaultFolderIcon","defaultFileIcon","icon","customIcon","iconKey","iconMap","_a","getIconKey","iconResolver","resolvedIcon","getFileExtension","filename","lastDotIndex","lastIndexOf","substring","toLowerCase","createFileExtensionIconResolver","extensionMap","extension","FolderItemContainer","styled","div","props","isSelected","IconContainer","ExpandToggle","EmptyToggle","ItemName","DefaultFolderIcon","React","createElement","viewBox","fill","xmlns","d","DefaultFileIcon","FolderItem","onItemClick","onItemDoubleClick","onItemContextMenu","renderItemContent","handleClick","stopPropagation","handleDoubleClick","handleContextMenu","handleToggleClick","renderIcon","content","onClick","onDoubleClick","onContextMenu","FolderListContainer","VirtualContainer","FolderList","className","defaultExpandedIds","keyboard","virtualizationOptions","setExpandedIds","useMemo","visibleFlatItems","virtualizedItems","virtualContainerRef","handleItemClick","prevExpandedIds","newExpandedIds","delete","focus","setRefs","node","ref","classNames","tabIndex","virtualItem"],"mappings":"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"}