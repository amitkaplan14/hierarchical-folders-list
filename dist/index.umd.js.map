{"version":3,"file":"index.umd.js","sources":["../src/utils/treeUtils.ts","../src/hooks/useVirtualization.ts","../src/hooks/useKeyboardNavigation.ts","../src/utils/iconUtils.ts","../src/components/FolderItem.tsx","../src/components/FolderList.tsx"],"sourcesContent":[null,null,null,null,null,null],"names":["flattenTree","data","depth","parentId","reduce","acc","item","isFolder","Boolean","children","length","flatItem","id","name","push","getVisibleItems","flattenedItems","expandedIds","visibleItems","isVisible","Set","undefined","has","add","getNextItemId","currentId","direction","currentIndex","findIndex","Math","min","max","useVirtualization","items","itemHeight","overscan","enabled","containerRef","useRef","visibleRange","setVisibleRange","useState","start","end","calculateVisibleRange","useCallback","current","scrollTop","clientHeight","startIndex","floor","endIndex","ceil","scrollToIndex","index","scrollItemIntoView","container","itemTop","itemBottom","viewportTop","viewportBottom","useEffect","handleScroll","addEventListener","removeEventListener","handleResize","window","slice","map","i","Object","assign","style","position","top","left","width","height","containerStyle","overflow","useKeyboardNavigation","expandOnEnter","collapseOnEscape","navigateWithArrows","selectedId","setSelectedId","toggleExpand","handleKeyDown","event","selectedItem","find","key","preventDefault","nextId","nextIndex","prevId","prevIndex","parentItem","parentIndex","resolveIcon","isExpanded","iconConfig","renderItemIcon","defaultFolderIcon","defaultFileIcon","icon","customIcon","iconKey","iconMap","_a","getIconKey","iconResolver","resolvedIcon","getFileExtension","filename","lastDotIndex","lastIndexOf","substring","toLowerCase","FolderItemContainer","styled","div","props","isSelected","IconContainer","ExpandToggle","EmptyToggle","ItemName","DefaultFolderIcon","React","createElement","viewBox","fill","xmlns","d","DefaultFileIcon","FolderItem","onItemClick","onItemDoubleClick","onItemContextMenu","renderItemContent","handleClick","stopPropagation","handleDoubleClick","handleContextMenu","handleToggleClick","renderIcon","content","onClick","onDoubleClick","onContextMenu","FolderListContainer","VirtualContainer","className","defaultExpandedIds","keyboard","virtualizationOptions","setExpandedIds","useMemo","visibleFlatItems","virtualizedItems","virtualContainerRef","handleItemClick","prevExpandedIds","newExpandedIds","delete","focus","setRefs","node","ref","classNames","tabIndex","virtualItem","extensionMap","extension"],"mappings":"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"}